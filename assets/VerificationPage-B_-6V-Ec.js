import{c as z,u as fe,m as ye,n as je,r as o,q as K,k as Z,g as H,w as X,l as Y,p as J,f as ee,j as e,C as U,H as q,S as v,U as Ne,L as we,a as ve}from"./index-BNtek14H.js";import{g as ke,d as te,e as Ce,C as Ie,Z as P,h as Se,E as De,c as Ee}from"./html2canvas.esm-D3sWM2JN.js";import{h as ae,v as Re,f as Me,Q as Ae}from"./helpers-B5wpkohg.js";import{A as Te}from"./arrow-left-BbWiqduF.js";import{E as se,C as re,A as ie}from"./external-link-4fjdCSdK.js";const He=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ve=z("book-open",He);const Pe=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Le=z("hash",Pe);const Oe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],$e=z("printer",Oe),Ke=()=>{const{certId:t}=fe();ye();const i=je().state?.proof,[a,h]=o.useState(t||""),[b,R]=o.useState("certId"),[m,f]=o.useState(!1),[M,p]=o.useState(0),[u,c]=o.useState(null),[l,j]=o.useState(""),[le,L]=o.useState(!1),[O,ce]=o.useState(""),[ne,Q]=o.useState(""),W=ke(),[oe,de]=o.useState(!1),[N,xe]=o.useState({studentName:"",studentId:"",courseName:"",grade:""}),[he,$]=o.useState(null);o.useEffect(()=>{if(t&&t!=="public"){const s=t.trim().replace(/\/$/,"");h(s),G(s)}else t==="public"&&(h(""),c(null),j(""));me()},[t]);const me=async()=>{if(window.ethereum){const s=await window.ethereum.request({method:"eth_accounts"});s.length>0&&Q(s[0])}},pe=async()=>{try{j("");const s=await Ee();s&&Q(s)}catch(s){j(s.message||"Failed to connect wallet.")}},G=async s=>{const n=(s||a||"").trim().replace(/\/$/,"");if(!(!n||n==="public")){f(!0),c(null),j("");try{let g=n;if(b==="studentId"&&!s){p(1);const y=K(Z(H,"certificates"),X("studentId","==",n)),T=await Y(y);if(T.empty){c({valid:!1,reason:"NOT_FOUND"});return}g=T.docs[0].id}p(1);const w=await te();if(!w)throw new Error("Blockchain provider unavailable. Please connect MetaMask.");const I=await w.verifyCertificate(g),[k,_,d]=I;if(!k){c({valid:!1,reason:"NOT_FOUND"});return}p(2);let x=null;if(i)x={...i,certId:g},console.log("Using QR Zero-Trust Proof Data");else{const y=await J(ee(H,"certificates",g));if(!y.exists()){c({valid:!1,reason:"METADATA_MISSING"});return}x=y.data()}p(3);const A=ae(x);if(A!==d){c({valid:!1,reason:"TAMPERED"}),console.error("Hash Mismatch! On-chain:",d,"Calculated:",A);return}let S=!1,F=!1;try{if(x.digitalSignature){console.log("Verifying Digital Signature...");const y=await fetch("http://localhost:5000/api/auth/public-key");if(y.ok){const{publicKey:T}=await y.json();F=await Re(d,x.digitalSignature,T),F?console.log("Digital Signature Verified."):(console.warn("Digital Signature Invalid! Issuer Mismatch Detected."),S=!0)}}}catch(y){console.error("Signature verification skipped:",y)}c({valid:!0,isQrProof:!!i,isIssuerMismatch:S,signatureValid:F,data:x,chain:{hash:d,txHash:x.txHash||"0x...",blockNumber:x.blockNumber||0,timestamp:x.timestamp?.toDate()||new Date(x.issueDate)}});const be=await Ce("tx",x.txHash);ce(be)}catch(g){console.error(g),j(g.message||"An unexpected error occurred during verification.")}finally{f(!1),p(0)}}},ue=async()=>{if(!a||!N.studentName||!N.studentId||!N.courseName||!N.grade){j("Please fill in all fields.");return}f(!0),c(null),j(""),$(null);try{let s=a;if(!s.startsWith("CERT-")){const A=K(Z(H,"certificates"),X("studentId","==",a)),S=await Y(A);S.empty||(s=S.docs[0].id)}p(1);const n=await te();if(!n)throw new Error("Blockchain provider unavailable.");const g=await n.verifyCertificate(s),[w,I,k]=g;if(!w){c({valid:!1,reason:"NOT_FOUND"});return}p(2);const _=await J(ee(H,"certificates",s)),d=_.exists()?_.data():null;p(3),ae({...N,certId:s,issueDate:d?.issueDate||"",email:d?.email||"",institutionName:d?.institutionName||""})===k?c({valid:!0,data:d||{...N,certId:s},chain:{hash:k,txHash:d?.txHash||"0x...",blockNumber:d?.blockNumber||0}}):($({submitted:N,original:d||null}),c({valid:!1,reason:"TAMPERED"}))}catch(s){console.error(s),j(s.message||"Manual verification failed.")}finally{f(!1),p(0)}},ge=async()=>{const s=document.getElementById("verification-report");if(s)try{const n=await Se(s,{scale:2}),g=n.toDataURL("image/png"),w=new De("p","mm","a4"),I=w.internal.pageSize.getWidth(),k=n.height*I/n.width;w.addImage(g,"PNG",0,0,I,k),w.save(`Verification_Report_${u.data.certId}.pdf`)}catch(n){console.error("PDF Fail:",n)}};return e.jsxs("div",{className:"min-h-[80vh]",children:[m?e.jsx(_e,{step:M}):u?u.valid?e.jsx(Fe,{result:u,setResult:c,generateReport:ge,setShowReceipt:L,handleVerify:G,explorerUrl:O}):e.jsx(Be,{result:u,setResult:c,setMismatchInfo:$,mismatchInfo:he,certId:a}):e.jsx(Ge,{activeNetwork:W,isManualMode:oe,setIsManualMode:de,searchType:b,setSearchType:R,certId:a,setCertId:h,manualData:N,setManualData:xe,handleVerify:G,handleManualVerify:ue,walletAddress:ne,handleConnect:pe}),l&&!m&&e.jsxs("div",{className:"max-w-md mx-auto mt-8 p-4 bg-red-50 border-l-4 border-error text-error rounded-r-2xl text-xs font-bold flex items-center gap-3",children:[e.jsx(U,{className:"h-5 w-5"}),e.jsx("span",{children:l})]}),le&&u&&e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-gray-900/80 backdrop-blur-md p-4 animate-in fade-in duration-300",children:e.jsxs("div",{className:"bg-white rounded-[3rem] p-10 max-w-2xl w-full shadow-2xl space-y-8 relative overflow-hidden animate-in zoom-in-95",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5 pointer-events-none",children:e.jsx(q,{className:"h-40 w-40"})}),e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 pb-6 relative",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-2xl flex items-center justify-center",children:e.jsx(v,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-black text-gray-900 tracking-tight",children:"Ledger Receipt"}),e.jsx("p",{className:"text-[10px] text-gray-400 font-black uppercase tracking-widest",children:"On-Chain Proof of Existence"})]})]}),e.jsx("button",{onClick:()=>L(!1),className:"h-10 w-10 bg-gray-50 rounded-xl flex items-center justify-center hover:bg-gray-100 transition",children:e.jsx(Te,{className:"h-5 w-5 text-gray-400"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 relative",children:[e.jsx(V,{label:"Transaction Hash",value:u.chain.txHash,mono:!0}),e.jsx(V,{label:"Block Number",value:`#${u.chain.blockNumber}`}),e.jsx(V,{label:"Network Status",value:`Confirmed (${W.label})`,status:"success"}),e.jsx(V,{label:"Verification Date",value:new Date().toLocaleString()})]}),e.jsxs("div",{className:"p-6 bg-gray-900 rounded-[2rem] space-y-4",children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Cryptographic Seal"}),e.jsx("p",{className:"font-mono text-[10px] text-gray-400 break-all leading-relaxed bg-white/5 p-4 rounded-xl border border-white/10",children:u.chain.hash})]}),e.jsxs("div",{className:"flex gap-4",children:[!O.includes("local-proof")&&e.jsxs("a",{href:O,target:"_blank",className:"flex-1 py-4 bg-gray-900 text-white rounded-2xl text-center font-black text-xs hover:bg-black transition flex items-center justify-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),"External Explorer"]}),e.jsx("button",{onClick:()=>L(!1),className:"flex-1 py-4 bg-primary text-white rounded-2xl font-black text-xs hover:bg-blue-600 transition shadow-xl shadow-blue-100",children:"Close Receipt"})]})]})})]})},Ge=({activeNetwork:t,isManualMode:r,setIsManualMode:i,searchType:a,setSearchType:h,certId:b,setCertId:R,manualData:m,setManualData:f,handleVerify:M,handleManualVerify:p,walletAddress:u,handleConnect:c})=>e.jsxs("div",{className:"max-w-2xl mx-auto space-y-12 py-12 px-4",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"h-24 w-24 bg-primary/10 text-primary rounded-[2.5rem] flex items-center justify-center mx-auto shadow-inner",children:e.jsx(v,{className:"h-12 w-12"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 tracking-tight",children:"Public Registry"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[e.jsx("p",{className:"text-text-secondary font-medium text-base md:text-lg",children:"Instant cryptographic verification of MDM credentials."}),e.jsx("span",{className:`px-2 py-0.5 ${t.badgeColor} text-white text-[9px] font-black rounded-lg uppercase tracking-widest`,children:t.label})]}),!u&&e.jsxs("div",{className:"mt-4 animate-in fade-in slide-in-from-top-4",children:[e.jsxs("button",{onClick:c,className:"inline-flex items-center gap-2 px-5 py-2.5 bg-primary text-white rounded-xl font-black text-xs hover:bg-primary-hover transition shadow-lg shadow-primary/10 active:scale-95",children:[e.jsx(P,{className:"h-3 w-3 fill-white"}),"Connect MetaMask to Verify"]}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-2 font-bold uppercase tracking-widest",children:"Required for On-Chain Validation"})]})]}),e.jsxs("div",{className:"bg-white p-10 rounded-[3rem] shadow-2xl shadow-primary/5 border border-border space-y-8",children:[e.jsxs("div",{className:"flex bg-gray-50 p-1.5 rounded-2xl relative items-center gap-1.5",children:[e.jsx("button",{onClick:()=>i(!1),className:`flex-1 py-3 px-2 md:px-4 rounded-xl text-[10px] md:text-sm font-black transition-all ${r?"text-gray-400 hover:text-gray-600":"bg-white text-primary shadow-sm"}`,children:"Search ID"}),e.jsx("button",{onClick:()=>i(!0),className:`flex-1 py-3 px-2 md:px-4 rounded-xl text-[10px] md:text-sm font-black transition-all ${r?"bg-white text-primary shadow-sm":"text-gray-400 hover:text-gray-600"}`,children:"Claim Checker"}),e.jsx(we,{to:"/scan",className:"h-10 w-10 md:h-12 md:w-12 bg-white border border-gray-100 rounded-xl md:rounded-2xl flex items-center justify-center text-gray-400 hover:text-primary transition shadow-md hover:shadow-primary/10 group flex-shrink-0",title:"Scan QR Code",children:e.jsx(Ae,{className:"h-5 w-5 md:h-6 md:w-6 group-hover:scale-110 transition-transform font-bold"})})]}),r?e.jsxs("div",{className:"space-y-5 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[e.jsx(E,{label:"Certificate ID",placeholder:"CERT-...",value:b,onChange:l=>R(l)}),e.jsx(E,{label:"Student ID",placeholder:"MRG-...",value:m.studentId,onChange:l=>f({...m,studentId:l})}),e.jsx(E,{label:"Full Name",placeholder:"Student Name",value:m.studentName,onChange:l=>f({...m,studentName:l})}),e.jsx(E,{label:"Course",placeholder:"Course Name",value:m.courseName,onChange:l=>f({...m,courseName:l})}),e.jsx("div",{className:"md:col-span-2",children:e.jsx(E,{label:"Grade / Status",placeholder:"e.g. First Class",value:m.grade,onChange:l=>f({...m,grade:l})})})]}),e.jsxs("button",{onClick:p,className:"w-full bg-primary text-white py-5 rounded-2xl font-black text-xl hover:bg-primary-hover transition shadow-xl shadow-primary/10 flex items-center justify-center space-x-3 active:scale-95 mt-4",children:[e.jsx(P,{className:"h-6 w-6 fill-white"}),e.jsx("span",{children:"Run Security Check"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-end px-2",children:[e.jsx("label",{className:"text-xs font-black text-gray-400 uppercase tracking-[0.2em]",children:"Search By Field"}),e.jsxs("select",{className:"text-[10px] font-black uppercase text-primary bg-transparent outline-none cursor-pointer",value:a,onChange:l=>h(l.target.value),children:[e.jsx("option",{value:"certId",children:"Certificate ID"}),e.jsx("option",{value:"studentId",children:"Student ID"})]})]}),e.jsxs("div",{className:"relative group",children:[e.jsx(ve,{className:"absolute left-6 top-1/2 -translate-y-1/2 h-6 w-6 text-gray-300 group-focus-within:text-primary transition"}),e.jsx("input",{autoFocus:!0,type:"text",placeholder:a==="certId"?"CERT-2024...":"MRG-2025...",className:"w-full pl-16 pr-6 py-5 bg-gray-50 border-2 border-border rounded-2xl focus:bg-white focus:ring-4 focus:ring-primary-hover/20 transition-all outline-none text-lg font-bold tracking-tight",value:b,onChange:l=>R(l.target.value),onKeyDown:l=>l.key==="Enter"&&M()})]})]}),e.jsx("button",{onClick:()=>M(),className:"w-full bg-primary text-white py-5 rounded-2xl font-black text-xl hover:bg-primary-hover transition shadow-xl shadow-primary/10 flex items-center justify-center space-x-3 active:scale-95",children:e.jsxs("span",{children:["Verify ",a==="certId"?"ID":"Student"]})})]}),e.jsxs("div",{className:"relative flex items-center py-2",children:[e.jsx("div",{className:"flex-grow border-t border-gray-100"}),e.jsx("span",{className:"flex-shrink mx-4 text-[10px] font-black uppercase tracking-widest text-gray-300",children:"Identity Trust"}),e.jsx("div",{className:"flex-grow border-t border-gray-100"})]}),e.jsxs("div",{className:"flex justify-center flex-wrap gap-8 opacity-40 grayscale",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-5 w-5"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Ethereum Security"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"h-5 w-5"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest",children:"Global Standards"})]})]})]})]}),_e=({step:t})=>e.jsxs("div",{className:"max-w-md mx-auto py-24 text-center space-y-10",children:[e.jsxs("div",{className:"relative h-32 w-32 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 border-8 border-gray-50 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-8 border-primary border-t-transparent rounded-full animate-spin"}),e.jsx(v,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 h-12 w-12 text-primary animate-pulse"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-3xl font-black text-gray-900",children:"Validating Cryptography"}),e.jsxs("div",{className:"space-y-3 px-12",children:[e.jsx(B,{label:"Checking Ledger",active:t===1,done:t>1}),e.jsx(B,{label:"Retrieving Metadata",active:t===2,done:t>2}),e.jsx(B,{label:"Analyzing Integrity",active:t===3,done:t>3})]})]})]}),B=({label:t,active:r,done:i})=>e.jsxs("div",{className:`flex items-center space-x-3 transition-opacity ${r?"opacity-100":"opacity-40"}`,children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${i?"bg-success":r?"bg-primary animate-ping":"bg-gray-300"}`}),e.jsx("span",{className:`text-xs font-black uppercase tracking-widest ${r?"text-gray-900":"text-gray-400"}`,children:t})]}),Fe=({result:t,setResult:r,generateReport:i,setShowReceipt:a,handleVerify:h,explorerUrl:b})=>e.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4 space-y-10 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[e.jsxs("div",{className:"bg-white border-2 border-border p-8 rounded-[3rem] shadow-xl shadow-primary/5 flex flex-col md:flex-row items-center gap-6 text-center md:text-left",children:[e.jsx("div",{className:"h-20 w-20 bg-primary/10 text-primary rounded-[2rem] flex items-center justify-center",children:e.jsx(re,{className:"h-10 w-10"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("h2",{className:"text-4xl font-black text-gray-900 tracking-tight flex items-center gap-3",children:["Status: VERIFIED (REAL)",e.jsx("span",{className:"text-success text-3xl",children:"✅"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("p",{className:"text-text-secondary font-bold uppercase tracking-widest text-xs",children:["Certificate: ",e.jsx("span",{className:"text-success font-black",children:"AUTHENTIC"})]}),t.isQrProof&&e.jsx("span",{className:"px-2 py-0.5 bg-blue-50 text-primary text-[8px] font-black rounded border border-blue-100 uppercase tracking-tighter",children:"Verified by QR Proof"})]})]}),e.jsx("button",{onClick:()=>r(null),className:"px-6 py-3 bg-white border-2 border-gray-100 rounded-2xl text-xs font-black text-gray-400 hover:text-gray-900 transition",children:"Verify Another"})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[e.jsxs("section",{className:"bg-white p-10 rounded-[3rem] shadow-xl border border-gray-50 space-y-10",children:[e.jsxs("div",{className:"flex items-center space-x-3 pb-6 border-b border-gray-50",children:[e.jsx(Ve,{className:"h-6 w-6 text-primary"}),e.jsx("h3",{className:"text-xl font-black text-gray-900",children:"Registry Details"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(D,{icon:Ne,label:"Recipient",value:t.data.studentName,subValue:t.data.studentId}),e.jsx(D,{icon:ie,label:"Course",value:t.data.courseName}),e.jsx(D,{icon:v,label:"Institution",value:t.data.institutionName||"Authorized MDM Body"}),e.jsx(D,{icon:Le,label:"Grade / Status",value:t.data.grade}),e.jsx(D,{icon:Ie,label:"Issue Date",value:Me(t.data.issueDate)})]})]}),e.jsxs("section",{className:"bg-gray-900 p-10 rounded-[3rem] shadow-2xl text-white space-y-10 relative overflow-hidden ring-4 ring-primary/20",children:[e.jsx("div",{className:"absolute top-0 right-0 p-10 opacity-5",children:e.jsx(P,{className:"h-32 w-32"})}),e.jsxs("div",{className:"flex items-center justify-between border-b border-white/10 pb-6 relative",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(q,{className:"h-6 w-6 text-primary"}),e.jsx("h3",{className:"text-xl font-black italic tracking-tight",children:"Blockchain Truth"})]}),e.jsxs("div",{className:"px-3 py-1 bg-primary/20 rounded-lg border border-primary/50 flex items-center gap-2",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-primary animate-pulse"}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest text-primary",children:"Live State"})]})]}),e.jsxs("div",{className:"space-y-6 relative",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Global ID"}),e.jsx("p",{className:"font-mono text-xs text-primary font-bold break-all mt-1",children:t.data.certId})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Transaction"}),e.jsx("p",{className:"font-mono text-[10px] text-gray-300 truncate mt-1",children:t.chain.txHash})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Block"}),e.jsxs("p",{className:"font-mono text-[10px] text-gray-300 mt-1",children:["#",t.chain.blockNumber]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-500",children:"Cryptographic Hash"}),e.jsx("div",{className:"bg-white/5 p-4 rounded-2xl border border-white/10 mt-2",children:e.jsx("p",{className:"font-mono text-[10px] text-gray-400 break-all leading-relaxed",children:t.chain.hash})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 relative",children:[e.jsxs("button",{onClick:()=>{b&&!b.includes("local-proof")?window.open(b,"_blank"):alert("Explorer not available for local proof.")},className:"bg-white text-gray-900 py-3.5 rounded-2xl font-black text-[10px] text-center hover:bg-gray-100 transition flex items-center justify-center gap-2 shadow-xl shadow-black/20",children:[e.jsx(se,{className:"h-3.5 w-3.5"}),"External Explorer"]}),e.jsxs("button",{onClick:()=>h(t.data.certId),className:"bg-white/10 border border-white/20 text-white py-3.5 rounded-2xl font-black text-[10px] text-center hover:bg-white/20 transition flex items-center justify-center gap-2",children:[e.jsx(P,{className:"h-3.5 w-3.5"}),"Internal"]}),e.jsxs("button",{onClick:()=>a(!0),className:"bg-white/10 border border-white/20 text-white py-3.5 rounded-2xl font-black text-[10px] text-center hover:bg-white/20 transition flex items-center justify-center gap-2",children:[e.jsx(q,{className:"h-3.5 w-3.5"}),"Receipt"]}),e.jsxs("button",{onClick:()=>alert("Reporting feature coming soon!"),className:"bg-white/5 border border-white/10 text-gray-500 py-3.5 rounded-2xl font-black text-[10px] text-center cursor-not-allowed flex items-center justify-center gap-2",children:[e.jsx($e,{className:"h-3.5 w-3.5 opacity-30"}),"Get Report"]})]})]})]}),e.jsx("div",{className:"fixed -left-[2000px] top-0 shadow-none pointer-events-none",children:e.jsxs("div",{id:"verification-report",className:"w-[800px] p-20 bg-white border-[20px] border-blue-50 space-y-12",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(v,{className:"h-12 w-12 text-primary"}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-gray-300",children:"Verification Report"}),e.jsxs("p",{className:"text-xs font-mono text-gray-500",children:["Generated: ",new Date().toLocaleString()]})]})]}),e.jsxs("div",{className:"space-y-4 text-center",children:[e.jsx("h1",{className:"text-4xl font-black text-gray-900",children:"Certificate Status: VERIFIED (REAL)"}),e.jsx("p",{className:"text-success font-bold",children:"Cryptographically Authentic Proof on Polygon"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-10 border-t border-b border-gray-100 py-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-gray-300",children:"Merit Details"}),e.jsxs("p",{className:"font-bold",children:["Student: ",t.data.studentName]}),e.jsxs("p",{className:"font-bold",children:["Course: ",t.data.courseName]}),e.jsxs("p",{className:"font-bold",children:["ID: ",t.data.certId]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-gray-300",children:"Network Info"}),e.jsxs("p",{className:"text-xs font-mono break-all",children:["TX: ",t.chain.txHash]}),e.jsxs("p",{className:"text-xs font-mono",children:["Block: ",t.chain.blockNumber]}),e.jsxs("p",{className:"text-xs font-mono break-all",children:["Hash: ",t.chain.hash]})]})]}),e.jsx("div",{className:"text-center pt-8",children:e.jsx("p",{className:"text-[8px] font-black uppercase tracking-[0.5em] text-gray-200",children:"MDM - MERIT DOCUMENTATION MANAGEMENT • SECURE REGISTRY"})})]})})]}),Be=({result:t,setResult:r,setMismatchInfo:i,mismatchInfo:a,certId:h})=>e.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4 space-y-10 animate-in zoom-in-95",children:[e.jsxs("div",{className:"bg-red-50 border-2 border-red-100 p-8 rounded-[3rem] flex flex-col md:flex-row items-center gap-6 text-center md:text-left shadow-2xl shadow-red-100/50",children:[e.jsx("div",{className:"h-20 w-20 bg-error text-white rounded-[2rem] flex items-center justify-center shadow-lg shadow-red-200 animate-pulse",children:e.jsx(U,{className:"h-10 w-10"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("h2",{className:"text-4xl font-black text-red-600 tracking-tight",children:t.reason==="TAMPERED"?"TAMPERED (FAKE)":"Verification Error"}),e.jsx("p",{className:"text-red-500 font-bold",children:t.reason==="TAMPERED"?"Integrity check failed. Digital signatures do not match the blockchain record.":"We couldn't validate this credential."})]}),e.jsx("button",{onClick:()=>{r(null),i(null)},className:"px-6 py-3 bg-white border-2 border-gray-100 rounded-2xl text-xs font-black text-gray-400 hover:text-gray-900 transition",children:"Back to Search"})]}),t.reason==="TAMPERED"&&a&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border-2 border-dashed border-red-100 space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3 text-error",children:[e.jsx(U,{className:"h-5 w-5"}),e.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Submitted Details"})]}),e.jsxs("div",{className:"space-y-4 opacity-70",children:[e.jsx(C,{label:"Student ID",value:a.submitted.studentId}),e.jsx(C,{label:"Course Name",value:a.submitted.courseName}),e.jsx(C,{label:"Submitted Grade",value:a.submitted.grade,color:"text-error"})]})]}),e.jsxs("div",{className:"bg-gray-900 p-8 rounded-[2.5rem] shadow-2xl text-white space-y-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10",children:e.jsx(v,{className:"h-24 w-24"})}),e.jsxs("div",{className:"flex items-center space-x-3 text-primary relative",children:[e.jsx(re,{className:"h-5 w-5"}),e.jsx("h3",{className:"text-lg font-black uppercase tracking-tight",children:"Ledger Reality"})]}),e.jsxs("div",{className:"space-y-4 relative",children:[e.jsx(C,{label:"Student ID",value:a.original?.studentId||"Verified Record",dark:!0}),e.jsx(C,{label:"Course Name",value:a.original?.courseName||"Authentic Merit",dark:!0}),e.jsx(C,{label:"Original Grade",value:a.original?.grade||"Different Value",color:"text-primary",dark:!0})]})]})]}),e.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border border-gray-100 text-left space-y-4 max-w-2xl mx-auto",children:[e.jsxs("h4",{className:"text-xs font-black text-gray-400 uppercase tracking-widest flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"How we detected this"]}),e.jsxs("p",{className:"text-sm text-gray-500 font-medium leading-relaxed",children:["Every certificate has a unique ",e.jsx("strong",{children:"Cryptographic Seal"}),' derived from its data (Grade, Student ID, etc.). Even changing a single letter or a "+" to a "-" changes this seal. The blockchain confirms that the record for ID ',e.jsx("span",{className:"font-mono text-primary font-bold",children:h})," exists, but its digital seal does NOT match the details you provided."]})]})]}),D=({icon:t,label:r,value:i,subValue:a})=>e.jsxs("div",{className:"flex gap-4 group",children:[e.jsx("div",{className:"h-10 w-10 bg-gray-50 text-gray-400 rounded-xl flex items-center justify-center group-hover:bg-primary/10 group-hover:text-primary transition",children:e.jsx(t,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black uppercase tracking-widest text-gray-300",children:r}),e.jsx("p",{className:"text-base font-bold text-gray-900",children:i}),a&&e.jsx("p",{className:"text-[10px] font-black text-primary uppercase",children:a})]})]}),V=({label:t,value:r,mono:i,status:a})=>e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-gray-400",children:t}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:`text-sm font-bold text-gray-900 ${i?"font-mono break-all":""}`,children:r}),a==="success"&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-success animate-pulse"})]})]}),C=({label:t,value:r,color:i="text-gray-900",dark:a})=>e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("label",{className:`text-[8px] font-black uppercase tracking-widest ${a?"text-gray-500":"text-gray-300"}`,children:t}),e.jsx("p",{className:`text-sm font-bold ${a&&i==="text-gray-900"?"text-white":i}`,children:r})]}),E=({label:t,placeholder:r,value:i,onChange:a})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1",children:t}),e.jsx("input",{type:"text",placeholder:r,className:"w-full px-5 py-3.5 bg-gray-50 border border-border rounded-xl focus:bg-white focus:ring-4 focus:ring-primary-hover/20 transition-all outline-none text-sm font-bold",value:i,onChange:h=>a(h.target.value)})]});export{Ke as default};
